<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width,initial-scale=1.0" name="viewport">
    <link href="favicon.ico" rel="icon">
    <meta content="주소 정보 조회" name="title"/>
    <title>주소 정보 조회</title>
</head>

<body style="margin: 0">
<div id="app" style="display: flex">
    <div id="wrap" style="border:1px solid;width:500px;height:466px;margin:10px;position:relative"></div>
    <div id="list" style="display:none;min-width:200px;"></div>
</div>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1de54ec89b22c32f3833b3c01b7bbe77&libraries=services"
        type="text/javascript"></script>
<script>
  var contents = {
    roadAddress: '도로명주소',
    jibunAddress: '지번주소',
    zonecode: '우편번호'
  };

  var element_wrap = document.getElementById('wrap');
  var element_list = document.getElementById('list');

  function daumPostcode() {
    new daum.Postcode({
      oncomplete: function (data) {
        var html = '';
        for (const key in contents) {
          html += '<p style="margin: 0">' + contents[key] + ' : ' + data[key] + '</p>';
        }
        const geocoder = new kakao.maps.services.Geocoder();
        geocoder.addressSearch(data.roadAddress, (result, status) => {
          if (status === kakao.maps.services.Status.OK) {
            html += '<p style="margin: 0">위도 : ' + result[0].y + '</p>';
            html += '<p style="margin: 0">경도 : ' + result[0].x + '</p>';
            element_list.innerHTML = '<div style="padding-top:10px">' + html + '</div>' + element_list.innerHTML;
            element_list.style.display = 'block';
            element_list.scrollIntoView();
          }
        });
      },
      // 우편번호 찾기 화면 크기가 조정되었을때 실행할 코드를 작성하는 부분. iframe을 넣은 element의 높이값을 조정한다.
      onresize: function (size) {
        element_wrap.style.height = size.height + 'px';
      },
      width: '100%',
      height: '100%'
    }).embed(element_wrap, {autoClose: false});
  }

  daumPostcode();

</script>
</body>
</html>